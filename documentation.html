<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>order_api documentation</title>

    <style>
        main {
            width: 960px;
            margin: 20px auto;
            font-family: sans-serif;
        }

        pre {
            background: #ACE;
            border-left: 3px solid #57C;
            padding: 10px;
            box-sizing: border-box;
        }
    </style>
</head>
<body>

<main>
    <header>
        <h1>order_api documentation</h1>
    </header>

    <article>
        <section id="toc">
            <ol>
                <li>
                    <a href="#apikeys">API keys</a>
                </li>
                <li>
                    <a href="#products">Products</a>
                </li>
                <li>
                    <a href="#orders">Orders</a>
                </li>
                <li>
                    <a href="#installation">Local Installation</a>
                </li>
            </ol>


        </section>

        <section id="apikeys">
            <h2>API keys</h2>
            <p><strong>To request an API key:</strong></p>
            <pre>GET /api-key?email=[YOUR_EMAIL]</pre>
            <p>Result:</p>
            <pre>{
    "data": {
        "key": "6eae78f64e3b6b9bfb2e3904469e8c30"
    }
}</pre>
            <p>Errors:</p>
            <pre>{
    "data": {
        "message": "Email address already used for api key.",
        "api_key": "1bdd5c943e664d399f2a298fca0dabfd"
    }
}</pre>

            <p><strong>An API key is required for all requests except the following:</strong></p>
            <pre>GET /</pre>
            <pre>GET /api-key?email=[YOUR_EMAIL]</pre>
            <p>If an API key is not provided the following error is given:</p>
            <pre>{
    "errors": {
        "status": 401,
        "source": "/products",
        "title": "Valid API key",
        "detail": "No valid API key provided."
    }
}</pre>
        </section>

        <section id="products">
            <h2>Products</h2>
            <p><strong>To get all your products:</strong></p>
            <pre>GET /products?api_key=[YOUR_API_KEY]</pre>
            <p>Result:</p>
            <pre>{
  "data": [
    {
      "id": 1,
      "article_number": "1212-RNT",
      "name": "Screw 14mm",
      "description": "A mighty fine screw.",
      "specifiers": "{length : '14mm', width : '5mm'}",
      "stock": 12,
      "location": "A1B4"
    },
    {
      "id": 2,
      "article_number": "1212-TNT",
      "name": "Bolt 14mm",
      "description": "A bolt that fits the mighty fine screw.",
      "specifiers": "{length : '5mm', width : '5mm'}",
      "stock": 15,
      "location": "A1C4"
    }
  ]
}</pre>

            <p><strong>To get a specific product:</strong></p>
            <pre>GET /product/:product_id?api_key=[YOUR_API_KEY]</pre>
            <p>Result:</p>
            <pre>{
    "data": {
        "id": 1,
        "article_number": "1212-RNT",
        "name": "Screw 14mm",
        "description": "A mighty fine screw.",
        "specifiers": "{length : '14mm', width : '5mm'}",
        "stock": 12,
        "location": "A1B4"
    }
}</pre>
            <p><strong>To search for a product:</strong></p>
            <pre>GET /product/search/:query?api_key=[YOUR_API_KEY]</pre>
            <p>Result (search query was fits):</p>
            <pre>{
    "data": [
        {
            "id": 2,
            "article_number": "1212-TNT",
            "name": "Bolt 14mm",
            "description": "A bolt that fits the mighty fine screw.",
            "specifiers": "{length : '5mm', width : '5mm'}",
            "stock": 15,
            "location": "A1C4"
        }
    ]
}</pre>

            <p><strong>To add a product:</strong></p>
            <pre>POST /product</pre>
            <p>Required parameters:</p>
            <pre>id
name
api_key</pre>

            <p><strong>To update a product:</strong></p>
            <pre>PUT /product</pre>
            <p>Required parameters:</p>
            <pre>id
api_key</pre>
            <p><strong>N.B.</strong> All attributes are updated, send an entire product object.</p>
            <p>Result:</p>
            <pre>HTTP Status Code 204 No Content</pre>
            <p>Possible error, besides errors returned from database:</p>
            <pre>{
    "errors": {
        "status": 400,
        "detail": "Required attribute product id (id) was not included in the request."
    }
}</pre>

            <p><strong>To delete a product:</strong></p>
            <pre>DELETE /product</pre>
            <p>Required parameters:</p>
            <pre>id
api_key</pre>
            <p>Result:</p>
            <pre>HTTP Status Code 204 No Content</pre>
            <p>Possible error, besides errors returned from database:</p>
            <pre>{
    "errors": {
        "status": 400,
        "detail": "Required attribute product id (id) was not included in the request."
    }
}</pre>
        </section>

        <section id="orders">
            <h2>Products</h2>
            <p><strong>To get all your products:</strong></p>
            <pre>GET /products?api_key=[YOUR_API_KEY]</pre>
            <p>Result:</p>
            <pre>{
    "data": [
        {
            "id": 1,
            "article_number": "1212-RNT",
            "name": "Screw 14mm",
            "description": "A mighty fine screw.",
            "specifiers": "{length : '14mm', width : '5mm'}",
            "stock": 12,
            "location": "A1B4"
        },
        {
            "id": 2,
            "article_number": "1212-TNT",
            "name": "Bolt 14mm",
            "description": "A bolt that fits the mighty fine screw.",
            "specifiers": "{length : '5mm', width : '5mm'}",
            "stock": 15,
            "location": "A1C4"
        }
    ]
}</pre>

            <p><strong>To get a specific product:</strong></p>
            <pre>GET /product/:product_id?api_key=[YOUR_API_KEY]</pre>
            <p>Result:</p>
            <pre>{
    "data": {
        "id": 1,
        "article_number": "1212-RNT",
        "name": "Screw 14mm",
        "description": "A mighty fine screw.",
        "specifiers": "{length : '14mm', width : '5mm'}",
        "stock": 12,
        "location": "A1B4"
    }
}</pre>
            <p><strong>To search for a product:</strong></p>
            <pre>GET /product/search/:query?api_key=[YOUR_API_KEY]</pre>
            <p>Result (search query was fits):</p>
            <pre>{
    "data": [
        {
            "id": 2,
            "article_number": "1212-TNT",
            "name": "Bolt 14mm",
            "description": "A bolt that fits the mighty fine screw.",
            "specifiers": "{length : '5mm', width : '5mm'}",
            "stock": 15,
            "location": "A1C4"
        }
    ]
}</pre>

            <p><strong>To add a product:</strong></p>
            <pre>POST /product</pre>
            <p>Required parameters:</p>
            <pre>id
name
api_key</pre>

            <p><strong>To update a product:</strong></p>
            <pre>PUT /product</pre>
            <p>Required parameters:</p>
            <pre>id
api_key</pre>
            <p><strong>N.B.</strong> All attributes are updated, send an entire product object.</p>
            <p>Result:</p>
            <pre>HTTP Status Code 204 No Content</pre>
            <p>Possible error, besides errors returned from database:</p>
            <pre>{
    "errors": {
        "status": 400,
        "detail": "Required attribute product id (id) was not included in the request."
    }
}</pre>

            <p><strong>To delete a product:</strong></p>
            <pre>DELETE /product</pre>
            <p>Required parameters:</p>
            <pre>id
api_key</pre>
            <p>Result:</p>
            <pre>HTTP Status Code 204 No Content</pre>
            <p>Possible error, besides errors returned from database:</p>
            <pre>{
    "errors": {
        "status": 400,
        "detail": "Required attribute product id (id) was not included in the request."
    }
}</pre>
        </section>

        <section id="installation">
            <h2>Installation</h2>
            <p>To get up and running do the following:</p>
            <ol>
                <li>
                    Create the file db/orders.sqlite.
                </li>
                <li>
                    Read the db/migrate.sql file into the db/orders.sqlite db.
                </li>
                <li>
                    Optional: Read the db/seed.sql file into the db/orders.sqlite db.
                </li>
                <li>
                    Run npm install.
                </li>
            </ol>
        </section>
    </article>
</main>
</body>
</html>
